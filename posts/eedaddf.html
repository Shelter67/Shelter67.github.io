<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>åšå®¢ç¬”è®° | Shelter</title><meta name="author" content="Shelter"><meta name="copyright" content="Shelter"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="live2då¯¹äºlive2dï¼Œaiå‘Šè¯‰æˆ‘ä¸€ä¸ªæ¯”åŸç‰ˆæ›´èªæ˜çš„çœ‹æ¿å¨˜ï¼Œå®‰è£…æ–¹æ³•æ˜¯ï¼š æ–¹æ¡ˆäºŒï¼šåˆ©ç”¨ Butterfly çš„ inject åŠŸèƒ½ï¼ˆæœ€ä¼˜é›…ï¼‰ Butterfly ä¸“é—¨æä¾›äº†ä¸€ä¸ª inject é…ç½®é¡¹ï¼Œå…è®¸ä½ æŠŠä»£ç æ’å…¥åˆ°é¡µé¢çš„ç‰¹å®šä½ç½®ï¼Œè€Œä¸ç”¨å»ç¿»æ‰¾å¤æ‚çš„ HTML æ–‡ä»¶ã€‚  æ‰“å¼€ _config.butterfly.ymlã€‚ æ‰¾åˆ° inject: éƒ¨åˆ†ï¼Œåœ¨ bottom: ä¸‹é¢æ·»åŠ é‚£è¡Œè„šæœ¬ï¼š">
<meta property="og:type" content="article">
<meta property="og:title" content="åšå®¢ç¬”è®°">
<meta property="og:url" content="http://localhost:4000/posts/eedaddf.html">
<meta property="og:site_name" content="Shelter">
<meta property="og:description" content="live2då¯¹äºlive2dï¼Œaiå‘Šè¯‰æˆ‘ä¸€ä¸ªæ¯”åŸç‰ˆæ›´èªæ˜çš„çœ‹æ¿å¨˜ï¼Œå®‰è£…æ–¹æ³•æ˜¯ï¼š æ–¹æ¡ˆäºŒï¼šåˆ©ç”¨ Butterfly çš„ inject åŠŸèƒ½ï¼ˆæœ€ä¼˜é›…ï¼‰ Butterfly ä¸“é—¨æä¾›äº†ä¸€ä¸ª inject é…ç½®é¡¹ï¼Œå…è®¸ä½ æŠŠä»£ç æ’å…¥åˆ°é¡µé¢çš„ç‰¹å®šä½ç½®ï¼Œè€Œä¸ç”¨å»ç¿»æ‰¾å¤æ‚çš„ HTML æ–‡ä»¶ã€‚  æ‰“å¼€ _config.butterfly.ymlã€‚ æ‰¾åˆ° inject: éƒ¨åˆ†ï¼Œåœ¨ bottom: ä¸‹é¢æ·»åŠ é‚£è¡Œè„šæœ¬ï¼š">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://localhost:4000/img/cover/19.jpg">
<meta property="article:published_time" content="2026-02-03T02:50:00.000Z">
<meta property="article:modified_time" content="2026-02-04T11:08:57.600Z">
<meta property="article:author" content="Shelter">
<meta property="article:tag" content="Hexo">
<meta property="article:tag" content="åšå®¢">
<meta property="article:tag" content="æ•™ç¨‹">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://localhost:4000/img/cover/19.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "åšå®¢ç¬”è®°",
  "url": "http://localhost:4000/posts/eedaddf.html",
  "image": "http://localhost:4000/img/cover/19.jpg",
  "datePublished": "2026-02-03T02:50:00.000Z",
  "dateModified": "2026-02-04T11:08:57.600Z",
  "author": [
    {
      "@type": "Person",
      "name": "Shelter",
      "url": "https://github.com/Shelter67"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://localhost:4000/posts/eedaddf.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="#49b1f5"/><link rel="apple-touch-icon" sizes="180x180" href="/img/siteicon/128.png"/><link rel="icon" type="image/png" sizes="32x32" href="/img/siteicon/32/png"/><link rel="icon" type="image/png" sizes="16x16" href="/img/siteicon/16.png"/><link rel="mask-icon" href="/img/siteicon/128.png" color="#5bbad5"/><link rel="stylesheet" href="/css/index.css?v=5.5.4"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":3,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"æœªæ‰¾åˆ°ç¬¦åˆæ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: true
  },
  runtime: 'å¤©',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"å·²åˆ‡æ¢ä¸ºç¹ä½“ä¸­æ–‡","cht_to_chs":"å·²åˆ‡æ¢ä¸ºç®€ä½“ä¸­æ–‡","day_to_night":"å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.13.0/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'åšå®¢ç¬”è®°',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><style>#waifu { left: auto !important; right: 20px !important; }</style><meta name="generator" content="Hexo 8.1.1"></head><body><div class="bg-animation" id="web_bg" style="background-image: url(/img/background.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">2</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/bangumis/zhuifan.html"><i class="fa-fw fas fa-tv"></i><span> è¿½ç•ª</span></a></div><div class="menus_item"><a class="site-page" href="/bangumis/zhuiju.html"><i class="fa-fw fas fa-video"></i><span> è¿½å‰§</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> ç•™è¨€æ¿</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/cover/19.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Shelter</span></a><a class="nav-page-title" href="/"><span class="site-name">åšå®¢ç¬”è®°</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  è¿”å›é¦–é¡µ</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/bangumis/zhuifan.html"><i class="fa-fw fas fa-tv"></i><span> è¿½ç•ª</span></a></div><div class="menus_item"><a class="site-page" href="/bangumis/zhuiju.html"><i class="fa-fw fas fa-video"></i><span> è¿½å‰§</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> ç•™è¨€æ¿</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">åšå®¢ç¬”è®°</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2026-02-03T02:50:00.000Z" title="å‘è¡¨äº 2026-02-03 10:50:00">2026-02-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2026-02-04T11:08:57.600Z" title="æ›´æ–°äº 2026-02-04 19:08:57">2026-02-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">æ€»å­—æ•°:</span><span class="word-count">4.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>21åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:365,&quot;messagePrev&quot;:&quot;It has been&quot;,&quot;messageNext&quot;:&quot;days since the last update, the content of the article may be outdated.&quot;,&quot;postUpdate&quot;:&quot;2026-02-04 19:08:57&quot;}" hidden></div><h1 id="live2d"><a href="#live2d" class="headerlink" title="live2d"></a>live2d</h1><p>å¯¹äºlive2dï¼Œaiå‘Šè¯‰æˆ‘ä¸€ä¸ªæ¯”åŸç‰ˆæ›´èªæ˜çš„çœ‹æ¿å¨˜ï¼Œå®‰è£…æ–¹æ³•æ˜¯ï¼š</p>
<p>æ–¹æ¡ˆäºŒï¼šåˆ©ç”¨ Butterfly çš„ <code>inject</code> åŠŸèƒ½ï¼ˆæœ€ä¼˜é›…ï¼‰</p>
<p>Butterfly ä¸“é—¨æä¾›äº†ä¸€ä¸ª <code>inject</code> é…ç½®é¡¹ï¼Œå…è®¸ä½ æŠŠä»£ç æ’å…¥åˆ°é¡µé¢çš„ç‰¹å®šä½ç½®ï¼Œè€Œä¸ç”¨å»ç¿»æ‰¾å¤æ‚çš„ HTML æ–‡ä»¶ã€‚</p>
<ol>
<li>æ‰“å¼€ <strong><code>_config.butterfly.yml</code></strong>ã€‚</li>
<li>æ‰¾åˆ° <code>inject:</code> éƒ¨åˆ†ï¼Œåœ¨ <code>bottom:</code> ä¸‹é¢æ·»åŠ é‚£è¡Œè„šæœ¬ï¼š</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="comment"># å¯ä»¥åœ¨è¿™é‡ŒåŠ  CSS</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://fastly.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>



<h1 id="çœ‹æ¿å¨˜"><a href="#çœ‹æ¿å¨˜" class="headerlink" title="çœ‹æ¿å¨˜"></a>çœ‹æ¿å¨˜</h1><p>çœ‹æ¿å¨˜çš„è¿™ä¸ªæˆ‘åº”è¯¥æ€ä¹ˆå˜æˆå³ä¸‹è§’å›ºå®š  </p>
<p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯è¿™ä¸ª <code>autoload.js</code> è„šæœ¬ï¼Œå®ƒé»˜è®¤é€šå¸¸ä¼šå‡ºç°åœ¨å·¦ä¸‹è§’ã€‚è¦å°†å…¶å›ºå®šåˆ°<strong>å³ä¸‹è§’</strong>ï¼Œæœ€ç›´æ¥çš„æ–¹æ³•æ˜¯é€šè¿‡ <strong>CSS è¦†ç›–</strong>ã€‚</p>
<p>ç”±äºè¿™ä¸ªè„šæœ¬åœ¨è¿è¡Œæ—¶ä¼šè‡ªåŠ¨å¾€é¡µé¢æ³¨å…¥ä¸€ä¸ª ID ä¸º <code>waifu</code>ï¼ˆæˆ–è€…ç±»ä¼¼çš„å®¹å™¨ï¼‰çš„ HTML å…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ Hexo ä¸­æ·»åŠ æ ·å¼æ¥å¼ºåˆ¶æ”¹å˜å®ƒçš„ä½ç½®ã€‚</p>
<p>æ–¹æ¡ˆä¸€ï¼šé€šè¿‡ Butterfly çš„ Inject åŠŸèƒ½ï¼ˆæœ€æ¨èï¼‰</p>
<p>ä¸éœ€è¦æ”¹åŠ¨ JS è„šæœ¬ï¼Œç›´æ¥åœ¨ <code>_config.butterfly.yml</code> ä¸­æ·»åŠ ä¸€è¡Œ CSS æ³¨å…¥å³å¯ï¼š</p>
<ol>
<li>æ‰“å¼€ <strong><code>_config.butterfly.yml</code></strong>ã€‚</li>
<li>æ‰¾åˆ° <code>inject</code> -&gt; <code>head</code> éƒ¨åˆ†ã€‚</li>
<li>æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</li>
</ol>
<p>YAML</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    - &lt;style&gt;#waifu &#123; left: auto !important; right: 0 !important; &#125;&lt;/style&gt;</span><br><span class="line">  bottom:</span><br><span class="line">    - &lt;script src=&quot;https://fastly.jsdelivr.net/npm/live2d-widgets@1.0.0/dist/autoload.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>ä»£ç è§£é‡Šï¼š</strong></p>
<ul>
<li><code>left: auto !important;</code>ï¼šå–æ¶ˆé»˜è®¤çš„å·¦ä¾§å®šä½ã€‚</li>
<li><code>right: 0 !important;</code>ï¼šå°†å…¶å›ºå®šåˆ°å³ä¾§ã€‚ä½ å¯ä»¥æŠŠ <code>0</code> æ”¹æˆ <code>20px</code> è®©å®ƒç¦»è¾¹ç¼˜æœ‰ä¸€ç‚¹è·ç¦»ã€‚</li>
</ul>
<hr>
<p>æ–¹æ¡ˆäºŒï¼šå¦‚æœä½ ä½¿ç”¨çš„æ˜¯æœ¬åœ°æ–‡ä»¶</p>
<p>å¦‚æœä½ å·²ç»æŠŠ <code>waifu.css</code> ä¸‹è½½åˆ°äº†æœ¬åœ°ï¼ˆä¾‹å¦‚æ”¾åœ¨ <code>source/live2d-widget/waifu.css</code>ï¼‰ï¼š</p>
<ol>
<li><p>æ‰“å¼€è¯¥ <strong><code>waifu.css</code></strong> æ–‡ä»¶ã€‚</p>
</li>
<li><p>æœç´¢ <code>#waifu</code>ã€‚</p>
</li>
<li><p>å°†å…¶ä¸­çš„ <code>left: 0;</code> ä¿®æ”¹ä¸ºï¼š</p>
<p>CSS</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#waifu &#123;</span><br><span class="line">    right: 20px; /* è·ç¦»å³è¾¹ 20 åƒç´  */</span><br><span class="line">    bottom: 0;</span><br><span class="line">    /* ç¡®ä¿æ²¡æœ‰ left å±æ€§ï¼Œå¦‚æœæœ‰ï¼Œè¯·åˆ æ‰æˆ–æ”¹ä¸º left: auto; */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<p>æ–¹æ¡ˆä¸‰ï¼šé’ˆå¯¹ä¸åŒæ’ä»¶å®¹å™¨åçš„é€šç”¨è¡¥æ•‘</p>
<p>å¦‚æœä½ å‘ç°ä¸Šé¢çš„ <code>#waifu</code> æ²¡èµ·ä½œç”¨ï¼Œè¯´æ˜ä½ è¿™ä¸ªç‰ˆæœ¬çš„æ’ä»¶å¯èƒ½ç”¨äº†ä¸åŒçš„ IDã€‚ä½ å¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤æŸ¥æ‰¾ï¼š</p>
<ol>
<li>åœ¨æµè§ˆå™¨æ‰“å¼€ä½ çš„åšå®¢ï¼ŒæŒ‰ <strong>F12</strong> æ‰“å¼€å¼€å‘è€…å·¥å…·ã€‚</li>
<li>ç‚¹å‡»å·¦ä¸Šè§’çš„â€œå°ç®­å¤´â€å›¾æ ‡ï¼Œå»é¡µé¢ä¸Šç‚¹å‡»é‚£ä¸ªçœ‹æ¿å¨˜ã€‚</li>
<li>æŸ¥çœ‹å³ä¾§é¢æ¿ä¸­è¯¥å…ƒç´ çš„ <code>id</code> æ˜¯ä»€ä¹ˆï¼ˆå¯èƒ½æ˜¯ <code>landlord</code> æˆ– <code>live2d-widget</code>ï¼‰ã€‚</li>
<li>å°†æ–¹æ¡ˆä¸€ä»£ç ä¸­çš„ <code>#waifu</code> æ›¿æ¢ä¸ºé‚£ä¸ª ID å³å¯ã€‚</li>
</ol>
<hr>
<p>âš ï¸ å¯èƒ½å­˜åœ¨çš„å†²çª</p>
<p>ç”±äºä½ åœ¨å³ä¸‹è§’å¯èƒ½è¿˜æœ‰ï¼š</p>
<ol>
<li><strong>Butterfly çš„â€œå›åˆ°é¡¶éƒ¨â€æŒ‰é’®</strong>ã€‚</li>
<li><strong>APlayer æ’­æ”¾å™¨</strong>ï¼ˆå¦‚æœä½ ä¹ŸæŠŠå®ƒè®¾åœ¨äº†å³è¾¹ï¼‰ã€‚</li>
</ol>
<p><strong>å»ºè®®ï¼š</strong> å¦‚æœå³ä¸‹è§’å¤ªæŒ¤äº†ï¼Œä½ å¯ä»¥å¾®è°ƒä½ç½®ï¼Œæ¯”å¦‚ï¼š <code>right: 50px !important; bottom: 20px !important;</code> è¿™æ ·çœ‹æ¿å¨˜ä¼šå¾€å·¦è¾¹å’Œä¸Šæ–¹æŒªä¸€ç‚¹ï¼Œé¿å…æŒ¡ä½åŠŸèƒ½æŒ‰é’®ã€‚</p>
<p><strong>æ”¹å®Œåè®°å¾—æ‰§è¡Œ <code>hexo clean</code> å’Œ <code>hexo g</code>ã€‚çœ‹æ¿å¨˜ç°åœ¨æˆåŠŸâ€œç¬ç§»â€åˆ°å³è¾¹äº†å—ï¼Ÿ</strong></p>
<h1 id="pwa"><a href="#pwa" class="headerlink" title="pwa"></a>pwa</h1><p>å®‰è£…å®Œåå³ä¸Šè§’ä¼šæœ‰ä¸ªå®‰è£…æŒ‰é’®ï¼Œå¯ä»¥ç¦»çº¿çœ‹åšå®¢ï¼Œç„¶åæœ‰ç¼“å­˜å¯ä»¥åŠ å¿«è®¿é—®é€Ÿåº¦ï¼Œå³ä¸Šè§’ä¼šæœ‰ä¸ªé€šçŸ¥åšå®¢æ›´æ–°</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">npm install --global gulp-cli #å…¨å±€å®‰è£…gulpå‘½ä»¤é›†</span><br><span class="line">npm install workbox-build gulp --save#å®‰è£…workboxå’Œgulpæ‰¬ä»¶</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‹ç¼©htmlæ’ä»¶</span></span><br><span class="line">npm install gulp-htmlclean --save-dev</span><br><span class="line">npm install --save gulp-htmlmin</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‹ç¼©cssæ’­ä»¶</span></span><br><span class="line">npm install gulp-clean-css --save-dev</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‹ç¼©jsæ’­ä»¶</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä½¿ç”¨babelå‹ç¼©jsï¼Œä¸terseräºŒé€‰ä¸€</span></span><br><span class="line">npm install --save-dev gulpuglify</span><br><span class="line">npm install --save-dev gulp-babel @babel/core @babel/preset-env</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä½¿ç”¨terserå‹ç¼©jsï¼Œä¸babeläºŒé€‰ä¸€ï¼ˆæ¨èï¼‰</span></span><br><span class="line">npm install gulp-terser --save-dev</span><br><span class="line">npm install --save-dev gulp-babel @babel/core @babel/preset-env</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‹ç¼©å›¾ç‰‡æ’­ä»¶ï¼ˆæ²¡å•¥ç”¨ï¼‰</span></span><br><span class="line">npm install --save-dev gulp-imagcmin</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‹ç¼©å­—ä½“æ’­ä»¶(font-minä»…æ”¯æŒå‹ç¼©ttfæ ¼å¼çš„å­—ä½“åŒ…)</span></span><br><span class="line">npm install gulp-fontmin --save-dev</span><br></pre></td></tr></table></figure>

<p>å…³äºfont-minçš„è¡¥å……è¯´æ˜ï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæ˜¯é€šè¿‡è¯»å–æ‰€æœ‰ç¼–è¯‘å¥½çš„htmlæ–‡ä»¶(.&#x2F;public&#x2F;â€œ.html)ä¸­çš„å­—ç¬¦ï¼Œç„¶ååŒ¹é…åŸæœ‰å­—ä½“åŒ…å†….&#x2F;public&#x2F;fonts&#x2F;.ttfå­—ä½“æ ·å¼ï¼Œè¾“å‡ºå‹ç¼©åçš„å­—ä½“åŒ…åˆ° &#x2F;public&#x2F;fontsdest&#x2F;ç›®å½•ã€‚æ‰€ä»¥æœ€ç»ˆå¼•ç”¨å­—ä½“çš„ç›¸å¯¹è·¯å¾„åº”è¯»æ˜¯&#x2F;fontsdes&#x2F;.ttfã€‚è€Œæœ¬åœ°æµ‹è¯•æ—¶ï¼Œå¦‚æœæ²¡æœ‰è¿è¡Œgulpï¼Œè‡ªç„¶ä¹Ÿå°±ä¸ä¼šè¾“å‡ºå‹ç¼©å­—ä½“åŒ…åˆ°publicç›®å½•ï¼Œä¹Ÿå°±çœ‹ä¸åˆ°å­—ä½“æ ·å¼ã€‚</p>
<p>julp-terseråªä¼šç›´æ¥å‹ç¼©jsä»£ç ï¼Œæ‰€ä»¥ä¸å­˜åœ¨å› ä¸ºè¯­æ³•å˜åŠ¨å¯¼è‡´çš„é”™è¯¯ã€‚äº‹å®ä¸Šï¼Œå½“æˆ‘ä»¬ä½¿ç”¨jsdelivrçš„CDNæœåŠ¡æ—¶ï¼Œåªéœ€è¦åœ¨cssæˆ–è€…jsçš„åçº§å‰æ·»åŠ åŠ .min,ä¾‹å¦‚example.js-&gt;example.min.js,JsDelivrå°±ä¼šè‡ªåŠ¨ä½¿ç”¨terserå¸®æˆ‘ä»¬å‹ç¼©å¥½ä»£ç ,</p>
<p>åœ¨package.jsonæ·»åŠ </p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;type&quot;</span><span class="punctuation">:</span><span class="string">&quot;module&quot;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºgulpfile.jsï¼Œåœ¨hexoçš„æ ¹ç›®å½•åˆ›å»ºè¿™ä¸ªæ–‡ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gulp <span class="keyword">from</span> <span class="string">&#x27;gulp&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> cleanCSS <span class="keyword">from</span> <span class="string">&#x27;gulp-clean-css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> htmlmin <span class="keyword">from</span> <span class="string">&#x27;gulp-htmlmin&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> htmlclean <span class="keyword">from</span> <span class="string">&#x27;gulp-htmlclean&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> imagemin <span class="keyword">from</span> <span class="string">&#x27;gulp-imagemin&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> workbox <span class="keyword">from</span> <span class="string">&#x27;workbox-build&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> fontmin <span class="keyword">from</span> <span class="string">&#x27;gulp-fontmin&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è‹¥ä½¿ç”¨babelå‹ç¼©jsï¼Œåˆ™å–æ¶ˆä¸‹æ–¹æ³¨é‡Šï¼Œå¹¶æ³¨é‡Šterserçš„ä»£ç </span></span><br><span class="line"><span class="comment">// var uglify = require(&#x27;gulp-uglify&#x27;);</span></span><br><span class="line"><span class="comment">// var babel = require(&#x27;gulp-babel&#x27;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è‹¥ä½¿ç”¨terserå‹ç¼©js</span></span><br><span class="line"><span class="keyword">import</span> terser <span class="keyword">from</span> <span class="string">&#x27;gulp-terser&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//pwa</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;generate-service-worker&#x27;</span>, <span class="function">()=&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> workbox.<span class="title function_">injectManifest</span>(&#123;</span><br><span class="line">        <span class="attr">swSrc</span>: <span class="string">&#x27;./sw-template.js&#x27;</span>,</span><br><span class="line">        <span class="attr">swDest</span>: <span class="string">&#x27;./public/sw.js&#x27;</span>,</span><br><span class="line">        <span class="attr">globDirectory</span>: <span class="string">&#x27;./public&#x27;</span>,</span><br><span class="line">        <span class="attr">globPatterns</span>: [</span><br><span class="line">            <span class="comment">// ç¼“å­˜æ‰€æœ‰ä»¥ä¸‹ç±»å‹çš„æ–‡ä»¶ï¼Œæç«¯ä¸æ¨è</span></span><br><span class="line">            <span class="comment">// &quot;**/*.&#123;html,css,js,json,woff2,xml&#125;&#x27;</span></span><br><span class="line">            <span class="comment">// æ¨èåªç¼“å­˜404ï¼Œä¸»é¡µå’Œä¸»è¦æ ·å¼å’Œè„šæœ¬ï¼Œ</span></span><br><span class="line">            <span class="string">&#x27;404.html&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;index.html&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;js/main.js&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;css/index.css&#x27;</span>,</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">modifyURLPrefix</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;&#x27;</span>: <span class="string">&#x27;./&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//minify js babel</span></span><br><span class="line"><span class="comment">// è‹¥ä½¿ç”¨babelå‹ç¼©jsï¼Œå–æ¶ˆä¸‹æ–¹æ³¨é‡Šï¼Œå¹¶æ³¨é‡Šterserçš„ä»£ç </span></span><br><span class="line"><span class="comment">// gulp.task(&#x27;compress&#x27;,()=&gt;</span></span><br><span class="line"><span class="comment">// gulp.src([&#x27;./public/**/*.js&#x27;,&#x27;!./public/*e*/*.min.js&#x27;j)</span></span><br><span class="line"><span class="comment">// .pipelbabel(&#123;</span></span><br><span class="line"><span class="comment">// 888888963</span></span><br><span class="line"><span class="comment">// presets: [&#x27;@babel/preset-env&#x27;]</span></span><br><span class="line"><span class="comment">// &#125;))</span></span><br><span class="line"><span class="comment">// .pipe(uglify().on(&#x27;error&#x27;, function(e)&#123;</span></span><br><span class="line"><span class="comment">// console.log(e);</span></span><br><span class="line"><span class="comment">// &#125;))</span></span><br><span class="line"><span class="comment">// .pipe(gulp.dest(&#x27;./public&#x27;))</span></span><br><span class="line"><span class="comment">// );</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// minify js - gulp-tester</span></span><br><span class="line"><span class="comment">// è‹¥ä½¿ç”¨terserå‹ç¼–js</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;compress&#x27;</span>, <span class="function">()=&gt;</span></span><br><span class="line">    gulp</span><br><span class="line">        .<span class="title function_">src</span>([</span><br><span class="line">            <span class="string">&#x27;./public/**/*.js&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;!./public/**/*.min.js&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;!./public/js/custom/galmenu.js&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;!./public/js/custom/gitcalendar.js&#x27;</span>,</span><br><span class="line">        ])</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">terser</span>())</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">//css</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-css&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp</span><br><span class="line">        .<span class="title function_">src</span>(<span class="string">&#x27;./public/**/*.css&#x27;</span>)</span><br><span class="line">        .<span class="title function_">pipe</span>(</span><br><span class="line">            <span class="title function_">cleanCSS</span>(&#123;</span><br><span class="line">                <span class="attr">compatibility</span>: <span class="string">&#x27;ie11&#x27;</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">        )</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‹ç¼© public ç›®å½•å†… html</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-html&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp</span><br><span class="line">        .<span class="title function_">src</span>(<span class="string">&#x27;./public/**/*.html&#x27;</span>)</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">htmlclean</span>())</span><br><span class="line">        .<span class="title function_">pipe</span>(</span><br><span class="line">            <span class="title function_">htmlmin</span>(&#123;</span><br><span class="line">                <span class="attr">removeComments</span>:<span class="literal">true</span>,<span class="comment">//æ¸…é™¤ HTML è¨»é‡Š</span></span><br><span class="line">                <span class="attr">collapseWhitespace</span>:<span class="literal">true</span>,<span class="comment">//å‹ç¼©HTML</span></span><br><span class="line">                <span class="attr">collapseBooleanAttributes</span>: <span class="literal">true</span>,<span class="comment">//çœç•¥å¸ƒå°”å±æ€§çš„å€¼ &lt;input checked=&quot;true&quot;/&gt; ==&gt; &lt;input /&gt;</span></span><br><span class="line">                <span class="attr">removeEmptyAttributes</span>:<span class="literal">true</span>,<span class="comment">//åˆ é™¤æ‰€æœ‰ç©ºæ ¼ä½œå±æ€§å€¼&lt;input id=&quot;&quot;/&gt;==&gt; &lt;input /&gt;</span></span><br><span class="line">                <span class="attr">removeScriptTypeAttributes</span>: <span class="literal">true</span>,<span class="comment">//åˆ é™¤ &lt;script&gt;çš„ type=&quot;text/javascript&quot;</span></span><br><span class="line">                <span class="attr">removeStyleLinkTypeAttributes</span>: <span class="literal">true</span>, <span class="comment">//åˆ é™¤ &lt;style&gt;å’Œ&lt;Link&gt; çš„ ype=&quot;text/css&quot;</span></span><br><span class="line">                <span class="attr">minifyJS</span>: <span class="literal">true</span>,<span class="comment">//å‹ç¼©é¡µé¢ JS</span></span><br><span class="line">                <span class="attr">minifyCss</span>: <span class="literal">true</span>,<span class="comment">//å‹ç¼©é¡µé¢CS5</span></span><br><span class="line">                <span class="attr">minifyURLs</span>: <span class="literal">true</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">        )</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‹ç¼© public/uploads ç›®å½•å†…å›¾ç‰‡</span></span><br><span class="line"><span class="comment">// gulp.task(&#x27;minify-images&#x27;, async() =&gt; &#123;</span></span><br><span class="line"><span class="comment">//     gulp</span></span><br><span class="line"><span class="comment">//         .src(&#x27;./public/img/**/*.*&#x27;)</span></span><br><span class="line"><span class="comment">//         .pipe(</span></span><br><span class="line"><span class="comment">//             imagemin(&#123;</span></span><br><span class="line"><span class="comment">//             optimizationLevel: 5,//ç±»å‹:Number  é¢„è®¾: 3 å–å€¼ç¯„å›´:0-7(ä¼˜åŒ–ç­‰çº§)</span></span><br><span class="line"><span class="comment">//             progressive: true,//ç±»å‹:Boolean    é¢„è®¾:   falseæ— å¤±çœŸå‹ç¼©jpgå›¾ç‰‡</span></span><br><span class="line"><span class="comment">//             interlaced: false,//ç±»å‹:Boolean é¢„è®¾:   false éš”è¡Œæ‰«ægifè¿›è¡Œæ¸²æŸ“</span></span><br><span class="line"><span class="comment">//             multipass: false,//ç±»å‹:Boolean é¢„è®¾:   false å¤šæ¬¡ä¼˜åŒ–svgç›´åˆ°å®Œå…¨ä¼˜åŒ–</span></span><br><span class="line"><span class="comment">//             &#125;)</span></span><br><span class="line"><span class="comment">//         )</span></span><br><span class="line"><span class="comment">//         .pipe(gulp.dest(&#x27;./public/img&#x27;));</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰§è¡Œ gulp å‘½ä»¤æ—¶æ‰§è¡Œçš„ä»»åŠ¡</span></span><br><span class="line">gulp.<span class="title function_">task</span>(</span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>,</span><br><span class="line">    gulp.<span class="title function_">series</span>(</span><br><span class="line">        <span class="string">&#x27;generate-service-worker&#x27;</span>,</span><br><span class="line">        gulp.<span class="title function_">parallel</span>(<span class="string">&#x27;compress&#x27;</span>, <span class="string">&#x27;minify-html&#x27;</span>, <span class="string">&#x27;minify-css&#x27;</span>, <span class="string">&#x27;minify-font&#x27;</span>))</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºsw-template.jsæ–‡ä»¶ï¼Œç„¶åè¾“å…¥</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> workboxVersion = <span class="string">&#x27;5.1.3&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥ Workbox</span></span><br><span class="line"><span class="title function_">importScripts</span>(<span class="string">`https://storage.googleapis.com/workbox-cdn/releases/<span class="subst">$&#123;workboxVersion&#125;</span>/workbox-sw.js`</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®ç¼“å­˜åç§°å‰ç¼€</span></span><br><span class="line">workbox.<span class="property">core</span>.<span class="title function_">setCacheNameDetails</span>(&#123;</span><br><span class="line">  <span class="attr">prefix</span>:<span class="string">&#x27;shelter&#x27;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼ºåˆ¶ç­‰å¾…æ¿€æ´»ä¸æ›´æ–°</span></span><br><span class="line">workbox.<span class="property">core</span>.<span class="title function_">skipWaiting</span>();</span><br><span class="line">workbox.<span class="property">core</span>.<span class="title function_">clientsClaim</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†ŒæˆåŠŸåè¦ç«‹å³ç¼“å­˜çš„èµ„æºåˆ—è¡¨</span></span><br><span class="line"><span class="comment">// å…·ä½“ç¼“å­˜åˆ—è¡¨åœ¨gulpfile.jsä¸­é…ç½®ï¼Œè§ä¸‹æ–‡</span></span><br><span class="line">workbox.<span class="property">precaching</span>.<span class="title function_">precacheAndRoute</span>(self.<span class="property">__WB_MANIFEST</span>,&#123;</span><br><span class="line">  <span class="attr">directoryIndex</span>: <span class="literal">null</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸…ç©ºè¿‡æœŸç¼“å­˜</span></span><br><span class="line">workbox.<span class="property">precaching</span>.<span class="title function_">cleanupOutdatedCaches</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. å­—ä½“ç¼“å­˜ (ä¿®å¤äº†ä½ ä»£ç ä¸­çš„æ­£åˆ™é”™è¯¯)</span></span><br><span class="line">workbox.<span class="property">routing</span>.<span class="title function_">registerRoute</span>(</span><br><span class="line">  <span class="regexp">/\.(?:eot|ttf|woff|woff2)$/</span>,</span><br><span class="line">  <span class="keyword">new</span> workbox.<span class="property">strategies</span>.<span class="title class_">CacheFirst</span>(&#123;</span><br><span class="line">    <span class="attr">cacheName</span>: <span class="string">&#x27;fonts&#x27;</span>,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">      <span class="keyword">new</span> workbox.<span class="property">expiration</span>.<span class="title class_">ExpirationPlugin</span>(&#123;</span><br><span class="line">        <span class="attr">maxEntries</span>: <span class="number">1000</span>,</span><br><span class="line">        <span class="attr">maxAgeSeconds</span>: <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">30</span>, <span class="comment">// ç¼“å­˜ 30 å¤©</span></span><br><span class="line">      &#125;),</span><br><span class="line">      <span class="keyword">new</span> workbox.<span class="property">cacheableResponse</span>.<span class="title class_">CacheableResponsePlugin</span>(&#123;</span><br><span class="line">        <span class="attr">statuses</span>: [<span class="number">0</span>, <span class="number">200</span>],</span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. å›¾ç‰‡ç¼“å­˜ (å®‰çŸ¥é±¼åšå®¢é€šå¸¸åŒ…å«å¤§é‡å›¾ç‰‡)</span></span><br><span class="line">workbox.<span class="property">routing</span>.<span class="title function_">registerRoute</span>(</span><br><span class="line">  <span class="regexp">/\.(?:png|jpg|jpeg|svg|gif|webp)$/</span>,</span><br><span class="line">  <span class="keyword">new</span> workbox.<span class="property">strategies</span>.<span class="title class_">StaleWhileRevalidate</span>(&#123;</span><br><span class="line">    <span class="attr">cacheName</span>: <span class="string">&#x27;images&#x27;</span>,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">      <span class="keyword">new</span> workbox.<span class="property">expiration</span>.<span class="title class_">ExpirationPlugin</span>(&#123;</span><br><span class="line">        <span class="attr">maxEntries</span>: <span class="number">500</span>,</span><br><span class="line">        <span class="attr">maxAgeSeconds</span>: <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">30</span>,</span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. è°·æ­Œå­—ä½“ç¼“å­˜</span></span><br><span class="line">workbox.<span class="property">routing</span>.<span class="title function_">registerRoute</span>(</span><br><span class="line">  <span class="regexp">/^https:\/\/fonts\.googleapis\.com/</span>,</span><br><span class="line">  <span class="keyword">new</span> workbox.<span class="property">strategies</span>.<span class="title class_">StaleWhileRevalidate</span>(&#123;</span><br><span class="line">    <span class="attr">cacheName</span>: <span class="string">&#x27;google-fonts-stylesheets&#x27;</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5. è°·æ­Œç»Ÿè®¡ (å¦‚æœä½ ä½¿ç”¨äº† Google Analytics)</span></span><br><span class="line">workbox.<span class="property">googleAnalytics</span>.<span class="title function_">initialize</span>();</span><br></pre></td></tr></table></figure>

<p>åœ¨[Blogroot]\themes\butterfly\layout\includes\third-party\ç›®å½•ä¸‹æ–°å»ºpwanotice.pugæ–‡ä»¶ï¼Œæ‰“å¼€ [Blogroot]\themes\butterfly\layout\includes\third-party\pwanotice.pug ,è¾“å…¥:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">#app-refresh(style=&#x27;position: fixed; top: -2.2rem; left: 0; right: 0; z-index: 99999; padding: 0 1rem; font-size: 15px; height: 2.2rem; transition: all 0.3s ease;&#x27;)</span><br><span class="line">  .app-refresh-wrap(style=&#x27;display: flex; color: #fff; height: 100%; align-items: center; justify-content: center;&#x27;)</span><br><span class="line">    label ğŸš€ æœ‰æ–°å†…å®¹å‘å¸ƒå•¦ï¼</span><br><span class="line">    a(href=&#x27;javascript:void(0)&#x27; onclick=&#x27;location.reload()&#x27;)</span><br><span class="line">      span(style=&#x27;color: #fff; text-decoration: underline; cursor: pointer; margin-left: 8px;&#x27;) ç‚¹å‡»åˆ·æ–°</span><br><span class="line">script.</span><br><span class="line">  if (&#x27;serviceWorker&#x27; in navigator) &#123;</span><br><span class="line">    // å¦‚æœå½“å‰é¡µé¢å— Service Worker æ§åˆ¶ï¼Œç›‘å¬æ§åˆ¶æƒå˜åŒ–</span><br><span class="line">    if (navigator.serviceWorker.controller) &#123;</span><br><span class="line">      navigator.serviceWorker.addEventListener(&#x27;controllerchange&#x27;, function() &#123;</span><br><span class="line">        showNotification();</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // é¡µé¢åŠ è½½å®Œæˆåæ³¨å†Œ sw.js</span><br><span class="line">    window.addEventListener(&#x27;load&#x27;, function() &#123;</span><br><span class="line">      navigator.serviceWorker.register(&#x27;/sw.js&#x27;).catch(err =&gt; &#123;</span><br><span class="line">        console.error(&#x27;PWA æ³¨å†Œå¤±è´¥:&#x27;, err);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function showNotification() &#123;</span><br><span class="line">    // ä¼˜å…ˆä½¿ç”¨ä¸»é¢˜è‡ªå¸¦çš„ Snackbar å¼¹çª—</span><br><span class="line">    if (window.GLOBAL_CONFIG &amp;&amp; GLOBAL_CONFIG.Snackbar) &#123;</span><br><span class="line">      var snackbarBg = document.documentElement.getAttribute(&#x27;data-theme&#x27;) === &#x27;light&#x27; ?</span><br><span class="line">        GLOBAL_CONFIG.Snackbar.bgLight :</span><br><span class="line">        GLOBAL_CONFIG.Snackbar.bgDark;</span><br><span class="line">      </span><br><span class="line">      var snackbarPos = GLOBAL_CONFIG.Snackbar.position;</span><br><span class="line"></span><br><span class="line">      Snackbar.show(&#123;</span><br><span class="line">        text: &#x27;ğŸš€ æœ‰æ–°æ–‡ç« å‘å¸ƒå•¦ï¼&#x27;,</span><br><span class="line">        backgroundColor: snackbarBg,</span><br><span class="line">        duration: 10000, // æŒç»­ 10 ç§’</span><br><span class="line">        pos: snackbarPos,</span><br><span class="line">        actionText: &#x27;ç‚¹å‡»åˆ·æ–°&#x27;,</span><br><span class="line">        actionTextColor: &#x27;#fff&#x27;,</span><br><span class="line">        onActionClick: function(e) &#123;</span><br><span class="line">          location.reload();</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      // å¦‚æœæ²¡æœ‰ Snackbarï¼Œåˆ™æ˜¾ç¤ºé¡¶éƒ¨çš„ app-refresh æ </span><br><span class="line">      var showBg = document.documentElement.getAttribute(&#x27;data-theme&#x27;) === &#x27;light&#x27; ? &#x27;#49b1f5&#x27; : &#x27;#1f1f1f&#x27;;</span><br><span class="line">      var appRefresh = document.getElementById(&#x27;app-refresh&#x27;);</span><br><span class="line">      if (appRefresh) &#123;</span><br><span class="line">        appRefresh.style.cssText = &#x27;top: 0; background: &#x27; + showBg + &#x27;;&#x27;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹[Blogroot]\themes\butterfly\layout\includes\additional-js.pug<br>,åœ¨æ–‡ä»¶åº•éƒ¨æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œæ³¨æ„ç¼©è¿›ã€‚ butterfly_v3.6.0å–æ¶ˆäº†ç¼“å­˜é…ç½®ï¼Œè½¬ä¸ºå®Œå…¨é»˜è®¤ï¼Œéœ€è¦å°†{cache:theme.fragment_cache} æ”¹ä¸º{cache: true}ï¼Œç°åœ¨ä½¿ç”¨çš„æ˜¯é«˜ç‰ˆæœ¬ï¼Œä½¿ç”¨æœ€åä¸¤è¡Œå°±è¡Œï¼Œæ³¨æ„pugæ˜¯ä¸¥æ ¼ç¼©è¿›æ¨¡å¼ï¼Œç¬¬ä¸€è¡Œä¸€å®šæ˜¯ä¸€ä¸ªç©ºæ ¼ï¼Œç¬¬äºŒè¡Œä¸¤ä¸ª</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if theme.pjax.enable</span><br><span class="line">	!=partial(&#x27;includes/third-party/pjax&#x27;,&#123;&#125;,&#123;cache:theme.fragment_cache&#125;)</span><br><span class="line"><span class="addition">!=partial(&#x27;includes/third-party/baidu_push&#x27;, &#123;&#125;,&#123;cache:theme.fragment_cache&#125;)</span></span><br><span class="line">  if theme.pwa.enable</span><br><span class="line">    != partial(&#x27;includes/third-party/pwanotice&#x27;, &#123;&#125; , &#123;cache: true&#125;)</span><br></pre></td></tr></table></figure>

<p>å°†ä½ çš„å›¾æ ‡åŒ…ç§»å…¥ç›¸åº”çš„ç›®å½•ï¼Œä¾‹å¦‚æˆ‘æ˜¯(img&#x2F;siteicon&#x2F;ï¼Œæ‰€ä»¥æ”¾åˆ°[Blogroot]&#x2F;source&#x2F;img&#x2F;siteicon&#x2F;ç›®å½•ä¸‹ã€‚æ²¡æœ‰çš„è¯æ–°å»ºï¼Œsite iconå°±æ˜¯ç«™ç‚¹å›¾æ ‡ï¼Œå¯ä»¥å»é˜¿é‡Œçš„iconfontç½‘ç«™æ‰¾èµ„æº</p>
<p>æ–°å»ºæ–‡ä»¶åä¸º manifest.json å¹¶å°†å…¶æ”¾åˆ° [Blogroot]&#x2F;source ç›®å½•ä¸‹ï¼Œæ­¤æ—¶è¿˜ä¸èƒ½ç›´æ¥ç”¨ï¼Œéœ€è¦æ·»åŠ ä¸€äº›å†…å®¹ï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„ manifest.json é…ç½®å†…å®¹ï¼Œæƒä¸”ä½œä¸ºå‚è€ƒï¼Œå…¶ä¸­çš„ theme_color å»ºè®®ç”¨å–è‰²å™¨å–è®¾è®¡çš„å›¾æ ‡çš„ä¸»è‰²è°ƒï¼ŒåŒæ—¶åŠ¡å¿…é…ç½® start_urlå’Œ nameçš„é…ç½®é¡¹ï¼Œè¿™å…³ç³»åˆ°ä½ ä¹‹åèƒ½å¦çœ‹åˆ°æµè§ˆå™¨çš„åº”ç”¨å®‰è£…æŒ‰é’®ã€‚</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;Shelterçš„åšå®¢&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;short_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Shelter&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;theme_color&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#49b1f5&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;background _color&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#49b1f5&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;display&quot;</span><span class="punctuation">:</span> <span class="string">&quot;standalone&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scope&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;start_url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;icons&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;src&quot;</span><span class="punctuation">:</span><span class="string">&quot;/img/siteicon/16.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sizes&quot;</span><span class="punctuation">:</span> <span class="string">&quot;16x16&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;src&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/img/siteicon/32.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sizes&quot;</span><span class="punctuation">:</span> <span class="string">&quot;32x32&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;src&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/img/siteicon/64.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sizes&quot;</span><span class="punctuation">:</span> <span class="string">&quot;64x64&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;src&quot;</span><span class="punctuation">:</span><span class="string">&quot;/img/siteicon/128.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sizes&quot;</span><span class="punctuation">:</span><span class="string">&quot;128x128&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;src&quot;</span><span class="punctuation">:</span><span class="string">&quot;/img/siteicon/144.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sizes&quot;</span><span class="punctuation">:</span><span class="string">&quot;144x144&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span><span class="string">&quot;image/png&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;src&quot;</span><span class="punctuation">:</span><span class="string">&quot;/img/siteicon/512.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sizes&quot;</span><span class="punctuation">:</span><span class="string">&quot;512x512&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;splash_pages&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ [Blogroot]&#x2F;_config.butterfly.yml,æ‰¾åˆ° PWA é…ç½®é¡¹ã€‚æ·»åŠ å›¾æ ‡è·¯å¾„ã€‚è¿™é‡Œçš„ theme_colorï¼Œå»ºè®®æ”¹æˆä½ å›¾æ ‡çš„ä¸»è‰²è°ƒï¼ŒåŒ…æ‹¬ manifest.json ä¸­çš„ theme_color ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pwa:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">manifest:</span> <span class="string">/manifest.json</span></span><br><span class="line">  <span class="attr">theme_color:</span> <span class="string">&quot;#49b1f5&quot;</span><span class="string">,</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/img/siteicon/128.png</span></span><br><span class="line">  <span class="attr">favicon_32_32:</span> <span class="string">/img/siteicon/32/png</span></span><br><span class="line">  <span class="attr">favicon_16_16:</span> <span class="string">/img/siteicon/16.png</span></span><br><span class="line">  <span class="attr">mask_icon:</span> <span class="string">/img/siteicon/128.png</span></span><br></pre></td></tr></table></figure>

<h1 id="ä¸€å›¾æµ"><a href="#ä¸€å›¾æµ" class="headerlink" title="ä¸€å›¾æµ"></a>ä¸€å›¾æµ</h1><p>æ–°å»ºæ–‡ä»¶[Blogroot]&#x2F;source&#x2F;css&#x2F;custom.cssåœ¨custom.cssä¸­å¡«å…¥ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* font-face &#123;</span></span><br><span class="line"><span class="comment">  font-family: Candyhome;</span></span><br><span class="line"><span class="comment">  src:url(https://cdn.cbd.int/anzhiyu-blog@latest/fonts/Candyhome.ttf);</span></span><br><span class="line"><span class="comment">  font-display: swap;</span></span><br><span class="line"><span class="comment">  font-weight: lighter;</span></span><br><span class="line"><span class="comment">&#125; */</span></span><br><span class="line"> <span class="comment">/* è°·æ­Œå­—ä½“ */</span></span><br><span class="line">  <span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: ZhuZiAYuanJWD;</span><br><span class="line">    <span class="attribute">src</span>:<span class="built_in">url</span>(<span class="string">https://cdn.cbd,int/anzhiyu-blog@latest/fonts/ZhuZiAWan.woff2</span>);</span><br><span class="line">    <span class="attribute">font-display</span>: swap;</span><br><span class="line">    <span class="attribute">font-weight</span>: lighter;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">@import</span> url(<span class="attribute">https</span>://fonts.googleapis.com/css2?family=ZC00L+KuaiLe&amp;display=swap);</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* è¿™é‡Œåº”è¯¥æ˜¯ç«™ç‚¹æœ€ä¸Šé¢é‚£ä¸ªå­—ä½“ */</span></span><br><span class="line">  <span class="selector-tag">div</span><span class="selector-id">#menus</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>:<span class="string">&#x27;ZhuZiAYuanJWD&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">h1</span><span class="selector-id">#site-title</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: ZhuZiAYuanJWD;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">3em</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-class">.article-title</span>,</span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-class">.blog-slider__title</span>,</span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-class">.categoryBar-list-link</span>,</span><br><span class="line">  <span class="selector-tag">h1</span><span class="selector-class">.post-title</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: ZhuZiAYuanJwD; </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.iconfont</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>:<span class="string">&#x27;iconfont&#x27;</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">3em</span>;</span><br><span class="line">    <span class="comment">/*å¯ä»¥å®šä¹‰å›¾æ ‡å¤§å° */</span></span><br><span class="line">    <span class="attribute">font-style</span>: normal;</span><br><span class="line">    -webkit-<span class="attribute">font-smoothing</span>:antialiased;</span><br><span class="line">    -moz-osx-<span class="attribute">font-smoothing</span>:grayscale;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/*æ—¶é—´è½´ç”Ÿè‚–icon */</span></span><br><span class="line">  <span class="selector-tag">svg</span><span class="selector-class">.icon</span> &#123;</span><br><span class="line">    <span class="comment">/* è¿™é‡Œå®šä¹‰svg.iconï¼Œé¿å…å’ŒButterflyè‡ªå¸¦çš„noteæ ‡ç­¾å†²çª */</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="comment">/* widthå’Œheightå®šä¹‰å›¾æ ‡çš„é»˜è®¤å®½åº¦å’Œé«˜åº¦*/</span></span><br><span class="line">    <span class="attribute">vertical-align</span>:-<span class="number">0.15em</span>;</span><br><span class="line">    <span class="attribute">fill</span>: currentColor;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.icon-zhongbiao</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#f7c768</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* bilibliç•ªå‰§æ’ä»¶ */</span></span><br><span class="line">  <span class="selector-class">.bangumi-active</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#dbecfe</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-class">.bangumi-tab</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.bangumi-button</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#dbecfe</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-class">.bangumi-button</span><span class="selector-class">.bangumi-nextpage</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.bangumi-button</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">10px</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">a</span><span class="selector-class">.bangumi-tab</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">10px</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">svg</span><span class="selector-class">.icon</span><span class="selector-class">.faa-tada</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.1em</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* è§£å†³artitalkçš„å›¾æ ‡é—®é¢˜ */</span></span><br><span class="line">  <span class="selector-id">#uploadSource</span> &gt; <span class="selector-tag">svg</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1.19em</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1.5em</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*top-imgé»‘è‰²é€æ˜ç»ç’ƒæ•ˆæœç§»é™¤ï¼Œä¸å»ºè®®åŠ ï¼Œé™¤éä½ æ‰§ç€äºå®Œå…¨ä¸€å›¾æµæˆ–è€…èƒŒæ™¯å›¾å¯¹æ¯”è‰²æ˜æ˜¾ */</span></span><br><span class="line">  <span class="selector-id">#page-header</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.not-top-img</span>)<span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* é¦–é¡µæ–‡ç« å¡ç‰‡ */</span></span><br><span class="line">  <span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.9</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* é¦–é¡µä¾§æ å¡ç‰‡ */</span></span><br><span class="line">  <span class="selector-id">#aside-content</span> <span class="selector-class">.card-widget</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.9</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* æ–‡ç« é¡µé¢æ­£æ–‡èƒŒæ™¯ **/</span></span><br><span class="line">  <span class="selector-tag">div</span><span class="selector-id">#post</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.9</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*åˆ†é¡µé¡µé¢ */</span></span><br><span class="line">  <span class="selector-tag">div</span><span class="selector-id">#page</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.9</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* å½’æ¡£é¡µé¢ */</span></span><br><span class="line">  <span class="selector-tag">div</span><span class="selector-id">#archive</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:â– <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.9</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* æ ‡ç­¾é¡µé¢ */</span></span><br><span class="line">  <span class="selector-tag">div</span><span class="selector-id">#tag</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.9</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*åˆ†ç±»é¡µé¢ */</span></span><br><span class="line">  <span class="selector-tag">div</span><span class="selector-id">#category</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.9</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*å¤œé—´æ¨¡å¼ä¼ªç±»é®ç½©å±‚é€æ˜*/</span></span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#121212</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-class">.card-widget</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#121212</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-tag">div</span><span class="selector-id">#post</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#121212</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-tag">div</span><span class="selector-id">#tag</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#121212</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-tag">div</span><span class="selector-id">#archive</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#121212</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-tag">div</span><span class="selector-id">#page</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#121212</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-tag">div</span><span class="selector-id">#category</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#121212</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-tag">div</span><span class="selector-id">#category</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* é¡µè„šé€æ˜ */</span></span><br><span class="line">  <span class="selector-id">#footer</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* å¤´å›¾é€æ˜ */</span></span><br><span class="line">  <span class="selector-id">#page-header</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#rightside</span> &gt; <span class="selector-tag">div</span> &gt; <span class="selector-tag">button</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* æ»šåŠ¨æ¡çš„ä¸€äº›è®¾ç½® */</span></span><br><span class="line">  ::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ::-webkit-scrollbar-thumb &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#49b1f5</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2em</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ::-webkit-scrollbar-corner &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: transparent;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ::-moz-selection &#123;</span><br><span class="line">    <span class="attribute">color</span>: â– <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#49b1f5</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* éŸ³ä¹æ’­æ”¾å™¨ */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* .aplayer .aplayer-lrc &#123;</span></span><br><span class="line"><span class="comment">    display: none !important;</span></span><br><span class="line"><span class="comment">  &#125;*/</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span><span class="selector-class">.aplayer-narrow</span> <span class="selector-class">.aplayer-body</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">66px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">    <span class="comment">/* é»˜è®¤æƒ…å†µä¸‹ç¼©è¿›å·¦ä¾§66pxï¼Œåªç•™ä¸€ç‚¹ç®­å¤´éƒ¨åˆ† */</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span><span class="selector-class">.aplayer-narrow</span> <span class="selector-class">.aplayer-body</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">    <span class="comment">/* é¼ æ ‡æ‚¬åœæ˜¯å·¦ä¾§ç¼©è¿›å½’é›¶ï¼Œå®Œå…¨æ˜¾ç¤ºæŒ‰é’® */</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> &#123;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">999999</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* è¯„è®ºæ¡†</span></span><br><span class="line"><span class="comment">  .vwrap &#123;</span></span><br><span class="line"><span class="comment">    box-shadow:2px2px5px #bbb;</span></span><br><span class="line"><span class="comment">    background:å£rgba(255ï¼Œ255ï¼Œ255ï¼Œ0.3);</span></span><br><span class="line"><span class="comment">    border-radius: 8px;</span></span><br><span class="line"><span class="comment">    padding: 30px;</span></span><br><span class="line"><span class="comment">    margin:30px 0px 30px px;</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  /* è®¾ç½®è¯„è®ºæ¡† */</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.vcard</span> &#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span> <span class="number">#bbb</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.3</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">30px</span> <span class="number">0px</span> <span class="number">0px</span> <span class="number">0px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* é¼ æ ‡å›¾æ ‡ */</span></span><br><span class="line">  <span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">&#x27;/img/x1.cur&#x27;</span>), auto;</span><br><span class="line">  &#125;</span><br><span class="line">    <span class="selector-tag">a</span>,</span><br><span class="line">    <span class="selector-attr">[type=<span class="string">&#x27;button&#x27;</span>]</span><span class="selector-pseudo">:not</span>(<span class="selector-pseudo">:disabled</span>),</span><br><span class="line">    <span class="selector-attr">[type=<span class="string">&#x27;reset&#x27;</span>]</span><span class="selector-pseudo">:not</span>(<span class="selector-pseudo">:disabled</span>),</span><br><span class="line">    <span class="selector-attr">[type=<span class="string">&#x27;submit&#x27;</span>]</span><span class="selector-pseudo">:not</span>(<span class="selector-pseudo">:disabled</span>),</span><br><span class="line">    <span class="selector-tag">button</span><span class="selector-pseudo">:not</span>(<span class="selector-pseudo">:disabled</span>) &#123;</span><br><span class="line">      <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">&#x27;/img/x2.cur&#x27;</span>), auto <span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* mdç½‘ç«™ä¸‹åˆ’çº¿ */</span></span><br><span class="line">    <span class="selector-id">#article-container</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">text-decoration</span>: none <span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-id">#article-container</span> <span class="selector-id">#hpp_talk</span> <span class="selector-tag">p</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">      <span class="attribute">display</span>: inline;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 404é¡µé¢ */</span></span><br><span class="line">  <span class="selector-id">#error-wrap</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">40%</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">0</span> <span class="number">1rem</span>;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">1000px</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0</span>, -<span class="number">50%</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#error-wrap</span> <span class="selector-class">.error-content</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: row;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">1rem</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">18rem</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>:<span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--card-bg);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--card-box-shadow);</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#error-wrap</span> <span class="selector-class">.error-content</span> <span class="selector-class">.error-img</span> &#123;</span><br><span class="line">    <span class="attribute">box-flex</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">border-top-left-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">border-bottom-left-radius</span>:<span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: å£<span class="number">#49b1f5</span>;</span><br><span class="line">    <span class="attribute">background-position</span>:center;</span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#error-wrap</span> <span class="selector-class">.error-content</span> <span class="selector-class">.error-info</span> &#123;</span><br><span class="line">    <span class="attribute">box-flex</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0.5rem</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: Titillium Web, <span class="string">&#x27;PingFang SC&#x27;</span>, <span class="string">&#x27;Hiragino Sans GB&#x27;</span>, <span class="string">&#x27;Microsoft JhengHei&#x27;</span>, <span class="string">&#x27;Microsoft YaHei&#x27;</span>,</span><br><span class="line">    sans-serif;</span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">  <span class="selector-id">#error-wrap</span> <span class="selector-class">.error-contenr</span> <span class="selector-class">.error-info</span> <span class="selector-class">.error_title</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>:-<span class="number">4rem</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">9em</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#error-wrap</span> <span class="selector-class">.error-content</span> <span class="selector-class">.error-info</span> <span class="selector-class">.error_subtitle</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>:-<span class="number">3.5rem</span>;</span><br><span class="line">    <span class="attribute">word-break</span>: break-word;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.6em</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#error-wrap</span> <span class="selector-class">.error-content</span> <span class="selector-class">.error-info</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">0.5rem</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0.3rem</span> <span class="number">1.5rem</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--btn-bg);</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--btn-color);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#body-wrap</span><span class="selector-class">.error</span> <span class="selector-class">.aside-list</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: row;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: nowrap;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1rem</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: scroll;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#body-wrap</span><span class="selector-class">.error</span> <span class="selector-class">.aside-list</span> <span class="selector-class">.aside-list-group</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: row;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: nowrap;</span><br><span class="line">    <span class="attribute">max-width</span>:<span class="number">1200px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#body-wrap</span><span class="selector-class">.error</span> <span class="selector-class">.aside-list</span> <span class="selector-class">.aside-list-item</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0.5rem</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#body-wrap</span><span class="selector-class">.error</span> <span class="selector-class">.aside-list</span> <span class="selector-class">.aside-list-item</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">object-fit</span>: cover;</span><br><span class="line">    <span class="attribute">border-radius</span>:<span class="number">12px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#body-wrap</span><span class="selector-class">.error</span> <span class="selector-class">.aside-list</span> <span class="selector-class">.aside-list-item</span> <span class="selector-class">.thumbnail</span> &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">230px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">143px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--heo-card-bg);</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#body-wrap</span><span class="selector-class">.error</span> <span class="selector-class">.aside-list</span> <span class="selector-class">.aside-list-item</span> <span class="selector-class">.content</span> <span class="selector-class">.title</span> &#123;</span><br><span class="line">    -webkit-<span class="selector-tag">line</span>-clamp:<span class="number">2</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">    -webkit-<span class="attribute">box-orient</span>: vertical;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: flex-end;</span><br><span class="line">    <span class="attribute">align-content</span>:center;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">0.5rem</span>;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#body-wrap</span><span class="selector-class">.error</span> <span class="selector-class">.aside-list</span> <span class="selector-class">.aside-list-item</span> <span class="selector-class">.content</span> <span class="selector-tag">time</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/* ä»£ç æ¡†ä¸»é¢˜ */</span></span><br><span class="line">  <span class="selector-id">#article-container</span> <span class="selector-tag">figure</span><span class="selector-class">.highlight</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>:<span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>ä¸éœ€è¦ä¸€å›¾æµå°±åˆ é™¤ä¸‹é¢ä»£ç </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* é¡µè„šé€æ˜ */</span></span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¤´å›¾é€æ˜ */</span></span><br><span class="line"><span class="selector-id">#page-header</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨butterflyé…ç½®æ–‡ä»¶é‡Œæ‰¾åˆ°injectæ·»åŠ ä¸‹é¢ä»£ç </p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="comment"># - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span></span><br><span class="line">    <span class="comment"># è‡ªå®šä¹‰css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;</span> <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨è¿™ä¸ªé…ç½®æ–‡ä»¶é‡Œæ‰¾backgroundæ·»åŠ è·¯å¾„</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">background:</span> <span class="string">/img/background.png</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæœ¬åœ°éƒ¨ç½²æ²¡é—®é¢˜ä½†æ˜¯æœåŠ¡å™¨æœ‰é—®é¢˜ï¼Œå°±åœ¨configé‡Œè®¾ç½®urlï¼Œè®¾ç½®æˆè‡ªå·±çš„github.io</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E5%8D%9A%E5%AE%A2/image-20260203005249715.png" alt="image-20260203005249715"></p>
<h1 id="å­—æ•°ç»Ÿè®¡"><a href="#å­—æ•°ç»Ÿè®¡" class="headerlink" title="å­—æ•°ç»Ÿè®¡"></a>å­—æ•°ç»Ÿè®¡</h1><p>å®‰è£…æ’ä»¶ï¼šåœ¨ä½ çš„åšå®¢æ ¹ç›®å½•ï¼Œæ‰“å¼€cmdå‘½ä»¤çª—å£æ‰§è¡Œ<code>npm install hexo-wordcount --save</code></p>
<p>å¼€å¯é…ç½®ï¼šä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ä¸­çš„<code>wordcount</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">wordcount:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post_wordcount:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_wordcount:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://github.com/Shelter67">Shelter</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://localhost:4000/posts/eedaddf.html">http://localhost:4000/posts/eedaddf.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="http://localhost:4000" target="_blank">Shelter</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Hexo/">Hexo</a><a class="post-meta__tags" href="/tags/%E5%8D%9A%E5%AE%A2/">åšå®¢</a><a class="post-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/">æ•™ç¨‹</a></div><div class="post-share"><div class="social-share" data-image="/img/cover/19.jpg" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/e25feb6e.html" title="é»‘é©¬ç¨‹åºå‘˜SSM"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/cover/2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">é»‘é©¬ç¨‹åºå‘˜SSM</div></div><div class="info-2"><div class="info-item-1"> springæ ¸å¿ƒæ¦‚å¿µ   ç›®æ ‡:å……åˆ†è§£è€¦ ä½¿ç”¨IoCå®¹å™¨ç®¡ç†bean(IoC) åœ¨IoCå®¹å™¨å†…å°†æœ‰ä¾èµ–å…³ç³»çš„beanè¿›è¡Œå…³ç³»ç»‘å®š(DI)   æœ€ç»ˆæ•ˆæœ ä½¿ç”¨å¯¹è±¡æ—¶ä¸ä»…å¯ä»¥ç›´æ¥ä»IoCå®¹å™¨ä¸­è·å–ï¼Œå¹¶ä¸”è·å–åˆ°çš„beanå·²ç»ç»‘å®šäº†æ‰€æœ‰çš„ä¾èµ–å…³ç³»    IoCå…¥é—¨æ¡ˆä¾‹æ€è·¯åˆ†æ ç®¡ç†ä»€ä¹ˆ?(Serviceä¸Dao) å¦‚ä½•å°†è¢«ç®¡ç†çš„å¯¹è±¡å‘ŠçŸ¥IoCå®¹å™¨?(é…ç½®) è¢«ç®¡ç†çš„å¯¹è±¡äº¤ç»™IoCå®¹å™¨ï¼Œå¦‚ä½•è·å–åˆ°IoCå®¹å™¨?(æ¥å£) IoCå®¹å™¨å¾—åˆ°åï¼Œå¦‚ä½•ä»å®¹å™¨ä¸­è·å–bean?(æ¥å£æ–¹æ³•) ä½¿ç”¨Springå¯¼å…¥å“ªäº›åæ ‡?(pom.xm1)  å…ˆå¯¼å…¥springä¾èµ–ï¼Œç„¶åæ–°å»º è¿™ä¸ªå°±æ˜¯springçš„é…ç½®æ–‡ä»¶ï¼Œå–åapplicationContext.xml 123456&lt;!--1.å¯¼å…¥springçš„åæ ‡spring-contextï¼Œå¯¹åº”ç‰ˆæœ¬æ˜¯5.2.10.RELEASE--&gt;&lt;!--2.é…ç½®beanï¼Œidéšä¾¿å†™ï¼Œclasså¯¹åº”è¦ç®¡ç†çš„å¯¹è±¡--&gt;&lt;bean id=&quot;bookDao&quot; class=&quot;com.itheima.dao.impl.BookD...</div></div></div></a><a class="pagination-related" href="/posts/4a17b156.html" title="Hello World"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/cover/15.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">Hello World</div></div><div class="info-2"><div class="info-item-1">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;  More info: Writing Run server1$ hexo server  More info: Server Generate static files1$ hexo generate  More info: Generating Deploy to remote sites1$ hexo deploy  More info: Deployment </div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Shelter</div><div class="author-info-description">è®°å½•è‡ªå·±çš„æˆé•¿æ—¥å¿—</div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Shelter67"><i class="fab fa-github"></i><span>æ²¡æœ‰ä»€ä¹ˆstarçš„github</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Shelter67" target="_blank" title="GitHub"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:1830191738@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://space.bilibili.com/8416212" target="_blank" title="Bilibili"><i class="fab fa-bilibili" style="color: #fb7299;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">æ¬¢è¿æ¥åˆ°æˆ‘çš„å°å°åšå®¢ï¼éƒ½æ˜¯åŸºäºhexoæ¡†æ¶ä½¿ç”¨ï¼Œé­”æ”¹äº†ä¸€äº›åœ°æ–¹ï¼Œè¡¨ç°å¾—æœ‰äº›äºŒæ¬¡å…ƒï¼Œæœ‰ä¸ªåšå®¢å¸Œæœ›èƒ½åœ¨æœªæ¥å·¥ä½œç®€å†ä¸Šæˆä¸ºåŠ åˆ†é¡¹å§ï¼Œä½†æ˜¯å¼„èµ·æ¥è¿˜çœŸçš„æŒºå¥½ç©çš„</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#live2d"><span class="toc-number">1.</span> <span class="toc-text">live2d</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%9C%8B%E6%9D%BF%E5%A8%98"><span class="toc-number">2.</span> <span class="toc-text">çœ‹æ¿å¨˜</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#pwa"><span class="toc-number">3.</span> <span class="toc-text">pwa</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E5%9B%BE%E6%B5%81"><span class="toc-number">4.</span> <span class="toc-text">ä¸€å›¾æµ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1"><span class="toc-number">5.</span> <span class="toc-text">å­—æ•°ç»Ÿè®¡</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/da77c56c.html" title="MVCæ¶æ„è®¾è®¡æ¨¡å¼"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/cover/5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MVCæ¶æ„è®¾è®¡æ¨¡å¼"/></a><div class="content"><a class="title" href="/posts/da77c56c.html" title="MVCæ¶æ„è®¾è®¡æ¨¡å¼">MVCæ¶æ„è®¾è®¡æ¨¡å¼</a><time datetime="2026-11-14T16:24:00.000Z" title="å‘è¡¨äº 2026-11-15 00:24:00">2026-11-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/e25feb6e.html" title="é»‘é©¬ç¨‹åºå‘˜SSM"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/cover/2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="é»‘é©¬ç¨‹åºå‘˜SSM"/></a><div class="content"><a class="title" href="/posts/e25feb6e.html" title="é»‘é©¬ç¨‹åºå‘˜SSM">é»‘é©¬ç¨‹åºå‘˜SSM</a><time datetime="2026-02-03T03:14:00.000Z" title="å‘è¡¨äº 2026-02-03 11:14:00">2026-02-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/eedaddf.html" title="åšå®¢ç¬”è®°"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/cover/19.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="åšå®¢ç¬”è®°"/></a><div class="content"><a class="title" href="/posts/eedaddf.html" title="åšå®¢ç¬”è®°">åšå®¢ç¬”è®°</a><time datetime="2026-02-03T02:50:00.000Z" title="å‘è¡¨äº 2026-02-03 10:50:00">2026-02-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/4a17b156.html" title="Hello World"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/cover/15.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/posts/4a17b156.html" title="Hello World">Hello World</a><time datetime="2026-01-27T19:22:37.883Z" title="å‘è¡¨äº 2026-01-28 03:22:37">2026-01-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/d2dc75e3.html" title="è€æœMyBatis"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/cover/8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="è€æœMyBatis"/></a><div class="content"><a class="title" href="/posts/d2dc75e3.html" title="è€æœMyBatis">è€æœMyBatis</a><time datetime="2025-12-09T19:12:00.000Z" title="å‘è¡¨äº 2025-12-10 03:12:00">2025-12-10</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By Shelter</span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.4"></script><script src="/js/main.js?v=5.5.4"></script><script src="/js/tw_cn.js?v=5.5.4"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"></div><script src="https://fastly.jsdelivr.net/npm/live2d-widgets@1.0.0/dist/autoload.js"></script><div class="aplayer no-destroy" data-id="435010695" data-server="netease" data-type="playlist" data-order="list" data-fixed="true" data-preload="auto" data-autoplay="false" data-mutex="true" ></div><script id="canvas_nest" defer="defer" color="255,192,203" opacity="0" zIndex="-1" count="80" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/metingjs/dist/Meting.min.js"></script><div id="app-refresh" style="position: fixed; top: -2.2rem; left: 0; right: 0; z-index: 99999; padding: 0 1rem; font-size: 15px; height: 2.2rem; transition: all 0.3s ease;"><div class="app-refresh-wrap" style="display: flex; color: #fff; height: 100%; align-items: center; justify-content: center;"><label>ğŸš€ æœ‰æ–°å†…å®¹å‘å¸ƒå•¦ï¼</label><a href="javascript:void(0)" onclick="location.reload()"><span style="color: #fff; text-decoration: underline; cursor: pointer; margin-left: 8px;">ç‚¹å‡»åˆ·æ–°</span></a></div></div><script>if ('serviceWorker' in navigator) {
  // å¦‚æœå½“å‰é¡µé¢å— Service Worker æ§åˆ¶ï¼Œç›‘å¬æ§åˆ¶æƒå˜åŒ–
  if (navigator.serviceWorker.controller) {
    navigator.serviceWorker.addEventListener('controllerchange', function() {
      showNotification();
    });
  }

  // é¡µé¢åŠ è½½å®Œæˆåæ³¨å†Œ sw.js
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('/sw.js').catch(err => {
      console.error('PWA æ³¨å†Œå¤±è´¥:', err);
    });
  });
}

function showNotification() {
  // ä¼˜å…ˆä½¿ç”¨ä¸»é¢˜è‡ªå¸¦çš„ Snackbar å¼¹çª—
  if (window.GLOBAL_CONFIG && GLOBAL_CONFIG.Snackbar) {
    var snackbarBg = document.documentElement.getAttribute('data-theme') === 'light' ?
      GLOBAL_CONFIG.Snackbar.bgLight :
      GLOBAL_CONFIG.Snackbar.bgDark;
    
    var snackbarPos = GLOBAL_CONFIG.Snackbar.position;

    Snackbar.show({
      text: 'ğŸš€ æœ‰æ–°æ–‡ç« å‘å¸ƒå•¦ï¼',
      backgroundColor: snackbarBg,
      duration: 10000, // æŒç»­ 10 ç§’
      pos: snackbarPos,
      actionText: 'ç‚¹å‡»åˆ·æ–°',
      actionTextColor: '#fff',
      onActionClick: function(e) {
        location.reload();
      },
    });
  } else {
    // å¦‚æœæ²¡æœ‰ Snackbarï¼Œåˆ™æ˜¾ç¤ºé¡¶éƒ¨çš„ app-refresh æ 
    var showBg = document.documentElement.getAttribute('data-theme') === 'light' ? '#49b1f5' : '#1f1f1f';
    var appRefresh = document.getElementById('app-refresh');
    if (appRefresh) {
      appRefresh.style.cssText = 'top: 0; background: ' + showBg + ';';
    }
  }
}</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åŠ è½½ä¸­</span></div><div class="local-search-input"><input placeholder="æœç´¢ç‚¹ä»€ä¹ˆå‘¢â€¦â€¦â€¦" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.4"></script></div></div></body></html>